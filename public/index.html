<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>U-Switch</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- <link rel="stylesheet" type="text/css" href="css/style.css"> -->
    <!-- <script defer src="./index.js"></script> -->
</head>

<body>
    <h1> U-Switch </h1>
    <input type="checkbox" id="toggleSwitch" onclick="func()"/><br>
    <script>

        let func = function () {
            let sendData = (state) => {
                let data = { state };

                const options = {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                };

                fetch('/api', options);
            };

            if(document.querySelector('#toggleSwitch:checked') !== null){
                sendData(1);
        }
        else {
            sendData(0);
        }
    }
    </script>
    <div class="center"></div>
</body>

</html>